<!-- chatbot.html -->
<!DOCTYPE html>
<html>
<head>
  <title>Chatbot</title>
  <style>
    #chatbot-container {
        width: 500px;
        height: 300px;
        border: 1px solid #ccc;
        margin: 0 auto;
    }
    #chatbot-messages {
        height: 200px;
        overflow: scroll;
    }
    .user-message {
        text-align: right;
        margin-right: 10px;
    }
    .bot-message {
        text-align: left;
        margin-left: 10px;
    }

</style>
</head>
<body>
    <div id="chatbot-container">
        <div id="chatbot-messages"></div>
       <form action="" method="post">
        {% csrf_token %}
        <input type="text" id="chatbot-input">
        <button type="submit" id="chatbot-submit">Send</button>
       </form>
    </div>
   
  <script>
    const chatbotContainer = document.getElementById("chatbot-container");
    const chatbotInput = document.getElementById("chatbot-input");
    const chatbotSubmit = document.getElementById("chatbot-submit");
    const chatbotMessages = document.getElementById("chatbot-messages");

    chatbotSubmit.addEventListener("click", function() {
        const userMessage = chatbotInput.value;
        chatbotInput.value = "";
        chatbotMessages.innerHTML += "<div class='user-message'>" + userMessage + "</div>";
        fetch("/chatbot/?message=" + userMessage)
            .then(response => response.json())
            .then(data => {
                chatbotMessages.innerHTML += "<div class='bot-message'>" + data.response + "</div>";
            });
    });
  </script>
</body>
</html>
